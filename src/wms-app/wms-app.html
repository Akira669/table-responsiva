<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/app-layout/app-layout.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">

<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/app-route/app-route.html">
<link rel="import" href="../../bower_components/app-route/app-location.html">

<dom-module id="wms-app">
      <template>
        <style>
            :host {
                display: block;
            }
                *{
                    box-sizing: border-box;
                    margin: 0;
                    padding:0;
                    font-family: 'Marvel', sans-serif;
                }
            :root {
                --red-marvel: #F01720;
                --iron-color: #B77E27;
                --hulk-color: #A8BF6F;
                --captain-marvel-color: #03A9F4;
                --blue-spider:#0C6DA6;
                --thanos-color:#F7C3D1;
                --line-color:#E6B125;
                --title-size: 25px;
                --text-size: 20px;

                --menu-color:#3BBFCA;
                --nav-color:#7919E5;
                --color-button:#8BC5FB;
            }

            /*
            * Header Page
            */
            .grid__header{
                display: grid;
                grid-template-columns: repeat(12,115px);
                background: var(--menu-color); 
                /*background: linear-gradient(to right, var(--menu-color) , var(--nav-color));*/
            }
            .header__title{
                display: flex;
                grid-column: 2/3;
                justify-content: center;

            }
            .header__nav{
                display: flex;
                grid-column: 4/8;
                justify-content: center;
                align-items: center;
                justify-content: space-around;
                list-style: none;
            }
            paper-button.nav__button{
                background-color: var(--color-button);
                border-radius: 20px;
            }
            paper-button a:link{
                text-decoration: none;
            }
            paper-button.menu__mobile{
             display: none;   
            }

            /*
            * Container page
            */
            .section{
                display: grid;
                grid-template-columns: repeat(12,115px);
                grid-template-rows: repeat(6,50px);
            }
            .section__title{
                grid-column: 2/12;
                grid-row: 1/2;
                display: flex;                
                justify-content: center;
                align-items: center;
            }
            .section__form{
                grid-column: 2/12;
                grid-row: 2/7;
                display: flex;
                justify-content: flex-start;
                align-items: stretch;
                text-align: justify;
            }

            .form__es6{
                grid-column: 3/5;
                grid-row: 2/7;
                font-size: 13px;   
                padding-left: 15px;
            }
            .form__js{
                grid-column: 5/7;
                grid-row: 2/7;
                font-size: 13px;
                padding-left: 15px;
            }
            .form__polymer{
                grid-column: 7/9;
                grid-row: 2/7;
                font-size: 13px;
                padding-left: 15px;
            }
            .form__css{
                grid-column: 9/11;
                grid-row: 2/7;
                font-size: 13px;
                padding-left: 15px;
            }
            .section__table{
                grid-column: 3/12;
                grid-row: 3/7;
                text-align: center;
            }


            #table {
                cursor: pointer;
                font-family: 'Marvel', sans-serif;
                border-collapse: collapse;
                width: 100%;
                font-size: var(--text-size);

            }

            #table td, #table th {
                border: 1px solid var(--line-color);
                padding: 8px;
            }

            #table tr:nth-child(even) {
                background-color: var(--hulk-color);
            }

            #table tr:hover {
                background-color: var(--iron-color);
            }

            #table .header {
                padding-top: 12px;
                padding-bottom: 12px;
                text-align: left;
                background-color: var(--red-marvel);
                color: white;
            }

            #table .main {
                background-color: var(--captain-marvel-color);
            }

            table {
                width: 100%;
                display: block;
            }

            table > tr {
                width: 100% !important;
            }

            table > th {
                margin-bottom: 1em;
            }

            .mobile-row {
                display: flex;
                flex-direction: row;
                background-color: var(--thanos-color);
                width: 100%;
            }
            .mobile-row p{
                text-align: center;
            }

            .mobile-column   {
                display: flex;
                flex-direction: column;
                width: 100%;
                border: 1px solid var(--line-color);
            }


            /*
            * Header version Mobile
            */
            @media screen and (max-width:500px){
                .grid__header{
                display: grid;
                grid-template-columns: repeat(1,auto);
                }
                .header__title{
                    display: flex;
                    grid-column: 1/12;
                    justify-content: center;
                }
                .header__nav{
                    display: grid;
                }
                paper-button.nav__button{
                background-color: var(--color-button);
                border: 1px solid var(--red-marvel);
                border-radius: 10px;
                padding: 10px 20px;
                cursor: pointer;
                }

                .header__nav{
                   padding: 30px 50px;
                   overflow: hidden;
                }
                .header__menu__mobile{
                    display: none;
                }
                paper-button.menu__mobile{
                    display: block;
                     grid-column: 1/2;
                }
                  
                    .section{
                    display: grid;
                    grid-template-columns: repeat(12,33px);
                    grid-template-rows: repeat(6,50px);
                }
                .section__title {
                    grid-column: 2/10;
                    grid-row: 1/3;
                    display: flex; 
                    flex-direction: row;
                    text-align: center;               
                    
                }
                .section__form{
                    grid-column: 2/12;
                    grid-row: 3/10;
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                }
                .form__es6 , .form__js , .form__polymer{
                    padding-bottom: 5%;
                }
                .section__author{
                    display: flex;
                    flex-direction: column;
                    padding: 10% 10%;
                }
                .section__title__author{
                     padding: 5% 10%;
                }
                .section__form__author{
                     padding: 5% 10%;
                }

            }

            @media only screen and (max-width: 500px) {
                table{
                    border-collapse: separate;
                    
                }
                #table .header {
                     background-color: var(--red-marvel);

 
                }
                #table td, #table th {
                border: 1px solid var(--line-color);
                padding: 4px;
                }
                #table > tr {
                    padding: 0 15px;
                    background-color: var(--red-marvel);
                }

                #table tr:nth-child(even) {
                background-color: var(--blue-spider);
                }

            }

            

        </style>

        <app-location route="{{route}}"></app-location>
        <app-route
                route="{{route}}"
                pattern="/:page"
                data="{{routePage}}"
                tail="{{subroute}}">
        </app-route>
        <div class="grid__header">
            <div class="header__title">
                <h2>Central Academy</h2>    
            </div>
            <div class="header__menu__mobile">
                <paper-button class="menu__mobile" >Menu</paper-button>
            </div>
            
                <iron-selector  selected="{{routePage.page}}" 
                            attr-for-selected="name" 
                            class="header__nav"
                            role="navigation" >
                    <paper-button toggles raised class="nav__button"><a name="table-draw" href="table-draw">Tabla</a></paper-button>
                    <paper-button toggles raised class="nav__button"><a name="Documentacion" href="Documentacion">Documentacion</a></paper-button>
                    <paper-button toggles raised class="nav__button"><a name="Autores" href="Autores">Autores</a></paper-button>
                </iron-selector>
        </div> 
            <iron-pages 
                        selected="{{routePage.page}}"
                        attr-for-selected="name"
                        fallback-selection="table-draw"
                        class="container"
                        role="main">
                <div name="table-draw" class="section">
                    <div class="section__title">
                        <h2>Tablas responsiva con polymer</h2>    
                    </div>
                    <div class="section__table">
                        <div id='table'>
           <template is="dom-if" if="[[!isMobile]]">
                <table>
                    <tr>
                        <th class="header main" colspan$="[[tableSection.headers.length]]">[[tableSection.title]]</th>
                    </tr>
                    <tr>
                        <template is="dom-repeat" items="[[tableSection.headers]]" as="header">
                            <td class="header">[[header]]</td>
                        </template>
                    </tr>
                    <template is="dom-repeat" items="[[tableSection.rows]]" as="row">
                        <tr>
                            <template is="dom-repeat" items="[[row]]" as="item">
                                <td>[[item]]</td>
                            </template>
                        </tr>
                    </template>
                </table>
            </template>
            
            <template is="dom-if" if="[[isMobile]]">
                <table>
                    <tr>
                        <th class="header main" colspan="2">[[tableSection.title]]</th>
                    </tr>
                    <template is="dom-repeat" items="[[tableSection.rows]]" as="row">
                        <tr>
                            <td>
                                <div class="mobile-row">
                                    <div class="mobile-column">
                                        <template is="dom-repeat" items="[[tableSection.headers]]" as="header">
                                            <td>[[header]]</td>
                                        </template>
                                    </div>
                                    <div class="mobile-column">
                                        <template is="dom-repeat" items="[[row]]" as="item">
                                            <td>[[item]]</td>
                                        </template>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </template>
                </table>
            </template>
        </div>
                    </div>
                </div>
                <div name="Documentacion" class="section">
                    <div class="section__title"> 
                        <h2>Documentacion</h2>    
                    </div>
                    <div class="section__form">                            
                            <div class="form__es6">
                                <h4>Ecmascript 6</h4>
                                <div>
                                    <p>ES6 es el estándar de seguimiento de JavaScript liberado en julio de 2015.</p>
                                    <p><mark>URL</mark><br>http://www.ecma-international.org/ecma-262/6.0/</p>   
                                </div>     
                            </div>
                           
                            <div class="form__js">
                                <h4>JavaScript</h4>
                                <div>
                                    <p>JavaScript es un lengaje prototipado.</p> 
                                    <p><mark>URL</mark><br>https://developer.mozilla.org/es/docs/Web/JavaScript</p>   
                                </div>    
                            </div>
                            
                            <div class="form__polymer">
                                <h4>Polymer</h4>
                                <div>
                                    <p>Polymer, es una liberia de Javascript que ayuda a la creacion de elementos HTML, reutilizables y personalizables, utilizados para crear aplicaciones performant y 
                                    mantenibles.</p>
                                    <p><mark>URL</mark><br>https://www.polymer-project.org/</p>    
                                </div>    
                            </div>
                            
                            <div class="form__css">
                                <h4>CSS</h4>
                                <div>
                                    <p>Hojas de estilo en cascada, que nos ayudan a presentar documentos HTML</p>
                                    <p><mark>URL</mark><br>https://developer.mozilla.org/es/docs/Web/CSS</p>   
                                </div>    
                            </div>
                    </div>
                </div>
                <div name="Autores" class="section section__author">
                    <div class="section__title__author">
                        <h2>Autores</h2>    
                    </div>
                    <div class="section__form__author">
                        <ul>
                            <li>Cristian</li>
                            <li>Adolfo</li>
                        </ul>
                    </div>
                </div>
            </iron-pages>
        </app-drawer-layout>
    </template>

    <script>
        /**
         * @customElement
         * @polymer
         */
        class WmsApp extends Polymer.Element {
            static get is() { return 'wms-app'; }

            static get properties() {
                return {
                    tableSection: {
                        type: Object,
                        value: {}
                    },
                    isMobile: {
                        type: Boolean,
                        value: false
                    }
                };
            }

            connectedCallback() {
                super.connectedCallback();

                window.addEventListener('resize', (event) => {
                    this._responsive();
                });

                this._responsive();
            }

            _responsive() {
                if (this.$.table.clientWidth < 500) {
                    this.set('isMobile', true);
                } else {
                    this.set('isMobile', false);
                }
            }

             drawTable() {
                let filas = this.$.filas.value;
                let column = this.$.columnas.value;
                toastr.success('Dibujando tabla...');
            }
        }

        window.customElements.define(WmsApp.is, WmsApp);
    </script>
</dom-module>
